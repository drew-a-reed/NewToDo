<mat-accordion multi class="new-task">
  <mat-expansion-panel [expanded]="isPanelOpen" class="new-task--panel">
    <mat-expansion-panel-header class="new-task--header">
      <mat-panel-title class="h3"> New Task </mat-panel-title>
    </mat-expansion-panel-header>
    <form [formGroup]="taskForm" class="new-task--form">
      <mat-form-field>
        <mat-label>Task Name</mat-label>
        <input formControlName="task" matInput>
        <mat-icon matSuffix>sentiment_very_satisfied</mat-icon>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Users</mat-label>
        <mat-select [formControl]="userList" multiple>
          <mat-option *ngFor="let user of users" [value]="user">
            {{ user.firstName }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Due Date</mat-label>
        <input matInput [matDatepicker]="picker" formControlName="date">
        <mat-datepicker-toggle matIconSuffix [for]="picker"></mat-datepicker-toggle>
        <mat-datepicker #picker></mat-datepicker>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Task Description</mat-label>
        <textarea matInput placeholder="" formControlName="description"></textarea>
      </mat-form-field>
      <mat-form-field>
        <mat-label>Priority</mat-label>
        <mat-select formControlName="priority">
          <mat-option *ngFor="let priority of priorities" [value]="priority">
            {{ priority }}
          </mat-option>
        </mat-select>
      </mat-form-field>
      <div class="buttons">
        <button *ngIf="!isEditEnabled" (click)="addTask()" mat-raised-button [disabled]="taskForm.invalid"
          color="primary">Add</button>
        <button (click)="resetTask()" mat-raised-button color="warn">Clear Task</button>
      <button *ngIf="isEditEnabled" (click)="updateTask()" mat-raised-button [disabled]="taskForm.invalid"
        color="primary">Update</button>
      </div>
    </form>
  </mat-expansion-panel>
</mat-accordion>
